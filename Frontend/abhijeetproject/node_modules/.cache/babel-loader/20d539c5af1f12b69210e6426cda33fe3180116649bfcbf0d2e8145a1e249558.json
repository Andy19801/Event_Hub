{"ast":null,"code":"// src/features/admin/adminSlice.js\nimport{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import axios from'axios';// Thunks for async logic\nexport const fetchUsers=createAsyncThunk('admin/fetchUsers',async(_,_ref)=>{let{rejectWithValue}=_ref;try{const{data}=await axios.get('/api/admin/users');return data;}catch(error){return rejectWithValue(error.response.data);}});export const deleteUser=createAsyncThunk('admin/deleteUser',async(userId,_ref2)=>{let{rejectWithValue}=_ref2;try{await axios.delete(`/api/admin/user/${userId}`);return userId;}catch(error){return rejectWithValue(error.response.data);}});// Admin slice\nconst adminSlice=createSlice({name:'admin',initialState:{users:[],loading:false,error:null},reducers:{resetError:state=>{state.error=null;}},extraReducers:builder=>{builder.addCase(fetchUsers.pending,state=>{state.loading=true;}).addCase(fetchUsers.fulfilled,(state,action)=>{state.loading=false;state.users=action.payload;}).addCase(fetchUsers.rejected,(state,action)=>{state.loading=false;state.error=action.payload;}).addCase(deleteUser.fulfilled,(state,action)=>{state.users=state.users.filter(user=>user._id!==action.payload);}).addCase(deleteUser.rejected,(state,action)=>{state.error=action.payload;});}});// Export actions and reducers\nexport const{resetError}=adminSlice.actions;export default adminSlice.reducer;// import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n// import axios from 'axios';\n// // Async thunks\n// export const fetchAdminData = createAsyncThunk('admin/fetchAdminData', async () => {\n//     const response = await axios.get('/api/admin/dashboard');\n//     return response.data;\n// });\n// export const fetchUserDetails = createAsyncThunk('admin/fetchUserDetails', async () => {\n//     const response = await axios.get('/api/admin/users');\n//     return response.data;\n// });\n// // Initial state\n// const initialState = {\n//     user: null,\n//     token: null,\n//     dashboardData: null,\n//     users: [],\n//     loading: false,\n//     error: null,\n// };\n// // Slice\n// const adminSlice = createSlice({\n//     name: 'admin',\n//     initialState,\n//     reducers: {\n//         setAdminCredentials: (state, action) => {\n//             state.user = action.payload.user;\n//             state.token = action.payload.token;\n//         },\n//         logoutAdmin: (state) => {\n//             state.user = null;\n//             state.token = null;\n//         },\n//     },\n//     extraReducers: (builder) => {\n//         builder\n//             .addCase(fetchAdminData.pending, (state) => {\n//                 state.loading = true;\n//                 state.error = null;\n//             })\n//             .addCase(fetchAdminData.fulfilled, (state, action) => {\n//                 state.loading = false;\n//                 state.dashboardData = action.payload;\n//             })\n//             .addCase(fetchAdminData.rejected, (state, action) => {\n//                 state.loading = false;\n//                 state.error = action.error.message;\n//             })\n//             .addCase(fetchUserDetails.fulfilled, (state, action) => {\n//                 state.users = action.payload;\n//             });\n//     },\n// });\n// // Export actions and reducer\n// export const { setAdminCredentials, logoutAdmin } = adminSlice.actions;\n// export default adminSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","fetchUsers","_","_ref","rejectWithValue","data","get","error","response","deleteUser","userId","_ref2","delete","adminSlice","name","initialState","users","loading","reducers","resetError","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","filter","user","_id","actions","reducer"],"sources":["E:/Final Year project/Event Hub/Frontend/abhijeetproject/src/features/admin/adminSlice.js"],"sourcesContent":["// src/features/admin/adminSlice.js\r\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\n// Thunks for async logic\r\nexport const fetchUsers = createAsyncThunk('admin/fetchUsers', async (_, { rejectWithValue }) => {\r\n    try {\r\n        const { data } = await axios.get('/api/admin/users');\r\n        return data;\r\n    } catch (error) {\r\n        return rejectWithValue(error.response.data);\r\n    }\r\n});\r\n\r\nexport const deleteUser = createAsyncThunk('admin/deleteUser', async (userId, { rejectWithValue }) => {\r\n    try {\r\n        await axios.delete(`/api/admin/user/${userId}`);\r\n        return userId;\r\n    } catch (error) {\r\n        return rejectWithValue(error.response.data);\r\n    }\r\n});\r\n\r\n// Admin slice\r\nconst adminSlice = createSlice({\r\n    name: 'admin',\r\n    initialState: {\r\n        users: [],\r\n        loading: false,\r\n        error: null,\r\n    },\r\n    reducers: {\r\n        resetError: (state) => {\r\n            state.error = null;\r\n        },\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n            .addCase(fetchUsers.pending, (state) => {\r\n                state.loading = true;\r\n            })\r\n            .addCase(fetchUsers.fulfilled, (state, action) => {\r\n                state.loading = false;\r\n                state.users = action.payload;\r\n            })\r\n            .addCase(fetchUsers.rejected, (state, action) => {\r\n                state.loading = false;\r\n                state.error = action.payload;\r\n            })\r\n            .addCase(deleteUser.fulfilled, (state, action) => {\r\n                state.users = state.users.filter((user) => user._id !== action.payload);\r\n            })\r\n            .addCase(deleteUser.rejected, (state, action) => {\r\n                state.error = action.payload;\r\n            });\r\n    },\r\n});\r\n\r\n// Export actions and reducers\r\nexport const { resetError } = adminSlice.actions;\r\nexport default adminSlice.reducer;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\n// import axios from 'axios';\r\n\r\n// // Async thunks\r\n// export const fetchAdminData = createAsyncThunk('admin/fetchAdminData', async () => {\r\n//     const response = await axios.get('/api/admin/dashboard');\r\n//     return response.data;\r\n// });\r\n\r\n// export const fetchUserDetails = createAsyncThunk('admin/fetchUserDetails', async () => {\r\n//     const response = await axios.get('/api/admin/users');\r\n//     return response.data;\r\n// });\r\n\r\n// // Initial state\r\n// const initialState = {\r\n//     user: null,\r\n//     token: null,\r\n//     dashboardData: null,\r\n//     users: [],\r\n//     loading: false,\r\n//     error: null,\r\n// };\r\n\r\n// // Slice\r\n// const adminSlice = createSlice({\r\n//     name: 'admin',\r\n//     initialState,\r\n//     reducers: {\r\n//         setAdminCredentials: (state, action) => {\r\n//             state.user = action.payload.user;\r\n//             state.token = action.payload.token;\r\n//         },\r\n//         logoutAdmin: (state) => {\r\n//             state.user = null;\r\n//             state.token = null;\r\n//         },\r\n//     },\r\n//     extraReducers: (builder) => {\r\n//         builder\r\n//             .addCase(fetchAdminData.pending, (state) => {\r\n//                 state.loading = true;\r\n//                 state.error = null;\r\n//             })\r\n//             .addCase(fetchAdminData.fulfilled, (state, action) => {\r\n//                 state.loading = false;\r\n//                 state.dashboardData = action.payload;\r\n//             })\r\n//             .addCase(fetchAdminData.rejected, (state, action) => {\r\n//                 state.loading = false;\r\n//                 state.error = action.error.message;\r\n//             })\r\n//             .addCase(fetchUserDetails.fulfilled, (state, action) => {\r\n//                 state.users = action.payload;\r\n//             });\r\n//     },\r\n// });\r\n\r\n// // Export actions and reducer\r\n// export const { setAdminCredentials, logoutAdmin } = adminSlice.actions;\r\n// export default adminSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}